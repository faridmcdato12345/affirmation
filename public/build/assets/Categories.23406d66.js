import{o as c,f as g,a as e,s as R,k as j,r as y,b as o,w as V,d as p,u,O as M,t as _,c as z,F as T,v as O,i as U,l as G,T as N,C as E,Z as W,n as X}from"../app.js";import{_ as w}from"./Modal.748b99a0.js";import{_ as k}from"./FormInput.2b8dc509.js";import{_ as b}from"./Button.f584762c.js";import{t as $}from"./useToast.c517d5c7.js";import{r as K,_ as ee}from"./AuthenticatedLayout.2648d7dc.js";import{r as te}from"./EyeIcon.40a4c185.js";import{r as D}from"./CheckCircleIcon.df11f541.js";import{r as oe}from"./PlusCircleIcon.3ee1d93f.js";import{r as le}from"./XCircleIcon.a94e3c57.js";function ae(n,m){return c(),g("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},[e("path",{d:"M21.731 2.269a2.625 2.625 0 00-3.712 0l-1.157 1.157 3.712 3.712 1.157-1.157a2.625 2.625 0 000-3.712zM19.513 8.199l-3.712-3.712-8.4 8.4a5.25 5.25 0 00-1.32 2.214l-.8 2.685a.75.75 0 00.933.933l2.685-.8a5.25 5.25 0 002.214-1.32l8.4-8.4z"}),e("path",{d:"M5.25 5.25a3 3 0 00-3 3v10.5a3 3 0 003 3h10.5a3 3 0 003-3V13.5a.75.75 0 00-1.5 0v5.25a1.5 1.5 0 01-1.5 1.5H5.25a1.5 1.5 0 01-1.5-1.5V8.25a1.5 1.5 0 011.5-1.5h5.25a.75.75 0 000-1.5H5.25z"})])}function Y(n,m){return c(),g("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},[e("path",{"fill-rule":"evenodd",d:"M16.5 4.478v.227a48.816 48.816 0 013.878.512.75.75 0 11-.256 1.478l-.209-.035-1.005 13.07a3 3 0 01-2.991 2.77H8.084a3 3 0 01-2.991-2.77L4.087 6.66l-.209.035a.75.75 0 01-.256-1.478A48.567 48.567 0 017.5 4.705v-.227c0-1.564 1.213-2.9 2.816-2.951a52.662 52.662 0 013.369 0c1.603.051 2.815 1.387 2.815 2.951zm-6.136-1.452a51.196 51.196 0 013.273 0C14.39 3.05 15 3.684 15 4.478v.113a49.488 49.488 0 00-6 0v-.113c0-.794.609-1.428 1.364-1.452zm-.355 5.945a.75.75 0 10-1.5.058l.347 9a.75.75 0 101.499-.058l-.346-9zm5.48.058a.75.75 0 10-1.498-.058l-.347 9a.75.75 0 001.5.058l.345-9z","clip-rule":"evenodd"})])}const se={class:"py-2"},re=e("h1",{class:""}," Custom Affirmation ",-1),ne=e("p",{class:"text-base mt-2 font-light"}," Add your own custom affirmation for your selected category. ",-1),ie=["onSubmit"],de={class:"flex justify-end gap-x-2 mt-3"},ue={__name:"AddAffirmation",props:{modelValue:Boolean,category:{type:Object},errors:Object},emits:["update:modelValue"],setup(n,{emit:m}){const f=n;let d=R({text:"",user_categories_id:null});const l=j({get(){return f.modelValue},set(s){m("update:modelValue",s)}}),v=y(!1),x=()=>{v.value=!0,M.post(route("user-affirmation.store"),{...d,user_categories_id:f.category.id},{onSuccess:()=>{$.success("Affirmation has been added successfully!"),m("update:modelValue")},onError:()=>{var s;$.error((s=f.errors.error)!=null?s:"You need to be premium to add more affirmations"),v.value=!1},onFinish:()=>{v.value=!1}})};return(s,t)=>(c(),g("div",null,[o(w,{modelValue:l.value,"onUpdate:modelValue":t[2]||(t[2]=a=>l.value=a)},{default:V(()=>[e("div",se,[re,ne,e("form",{class:"mt-3",onSubmit:p(x,["prevent"])},[o(k,{id:"text",modelValue:u(d).text,"onUpdate:modelValue":t[0]||(t[0]=a=>u(d).text=a),class:"mb-1",label:"Affirmation"},null,8,["modelValue"]),e("div",de,[o(b,{label:"Cancel",color:"gray",onClick:t[1]||(t[1]=p(a=>l.value=!1,["prevent"]))}),o(b,{label:"Save Affirmation",color:"success",type:"submit",loading:v.value},null,8,["loading"])])],40,ie)])]),_:1},8,["modelValue"])]))}},ce={tabindex:"0",class:"relative flex justify-between px-3 py-3 border rounded-sm my-2"},me={class:"text-sm text-gray-500"},fe={class:"absolute top-1/2 -translate-y-1/2 right-4 flex gap-x-1"},ve={__name:"AffirmationCard",props:{id:{type:[String,Number],required:!0},affirmation:{type:String,required:!0},date:{type:[String,Date],required:!0}},emits:["delete"],setup(n,{emit:m}){const f=n,d=y(!1),l=y(),v=()=>{d.value=!1,M.put(route("user-affirmation.update",f.id),{text:l.value}),console.log("Updating affirmation ...")},x=s=>{l.value=s};return(s,t)=>(c(),g("div",ce,[e("div",null,[d.value?(c(),z(k,{key:1,id:n.id,autofocus:"",label:"Update affirmation","model-value":n.affirmation,class:"w-[400px]","onUpdate:modelValue":x,onKeyupEnter:v,onBlur:t[1]||(t[1]=a=>d.value=!1)},null,8,["id","model-value"])):(c(),g("h2",{key:0,class:"font-medium max-w-[45ch]",onClick:t[0]||(t[0]=p(a=>d.value=!0,["prevent"]))},_(n.affirmation),1)),e("p",me,_(n.date),1)]),e("div",fe,[o(u(Y),{class:"w-6 text-gray-500 hover:text-red-600 cursor-pointer",onClick:t[2]||(t[2]=p(a=>m("delete"),["prevent"]))})])]))}},pe={class:"py-2"},ge=e("h1",{class:""}," Affirmations ",-1),ye=e("p",{class:"text-base mt-2 font-light"}," Here are your custom affirmations for the selected category. ",-1),xe={class:"max-h-[300px] overflow-y-auto mt-2 py-1"},be={key:0,class:"text-base mt-2 mb-3"},he={key:0,class:"text-sm"},_e=e("span",{class:"font-medium text-black"},"enter",-1),Ve={class:"flex justify-end mt-4 gap-x-2"},Ce={__name:"Affirmations",props:{modelValue:Boolean,affirmations:{type:Object,default:()=>{}}},emits:["update:modelValue","add-affirmation"],setup(n,{emit:m}){const f=n,d=j({get(){return f.modelValue},set(s){m("update:modelValue",s)}}),l=y(!1),v=s=>{console.log("Update affirmation: ",s)},x=s=>{l.value=!0,M.delete(route("user-affirmation.destroy",s),{onSuccess:()=>{$.success("Affirmation has been deleted successfully!")},onError:()=>{l.value=!1},onFinish:()=>{l.value=!1}})};return(s,t)=>(c(),g("div",null,[o(w,{modelValue:d.value,"onUpdate:modelValue":t[2]||(t[2]=a=>d.value=a)},{default:V(()=>[e("div",pe,[ge,ye,e("div",xe,[(c(!0),g(T,null,O(n.affirmations,a=>(c(),z(ve,{id:a.id,key:a.id,affirmation:a.text,date:a.created_at,onDelete:B=>x(a.id),onUpdate:v},null,8,["id","affirmation","date","onDelete"]))),128)),n.affirmations.length==0?(c(),g("p",be," There are no affirmations added to this category. ")):U("",!0)]),n.affirmations.length!=0?(c(),g("p",he,[G(" Click on an affirmation text to edit and press "),_e,G(" to save update. ")])):U("",!0),e("div",Ve,[o(b,{label:"Close",color:"gray",onClick:t[0]||(t[0]=p(a=>m("update:modelValue"),["prevent"]))}),o(b,{label:"Add Affirmation",color:"success",onClick:t[1]||(t[1]=p(a=>m("add-affirmation"),["prevent"]))})])])]),_:1},8,["modelValue"])]))}},we={class:"py-2"},$e=e("h1",{class:""}," Custom Category ",-1),ke=e("p",{class:"text-base mt-2 font-light"}," Add your own category so that you can add your own affirmation. ",-1),Se=["onSubmit"],Ae={class:"flex justify-end gap-x-2 mt-3"},Ue={__name:"AddCategory",props:{modelValue:Boolean},emits:["update:modelValue"],setup(n,{emit:m}){const f=n,d=j({get(){return f.modelValue},set(s){m("update:modelValue",s)}}),l=N({text:"",blurb:""}),v=y(!1),x=()=>{v.value=!0,l.post(route("user-category.store"),{onSuccess:()=>{var s;l.reset(),$.success((s=l.errors.error)!=null?s:"Category has been added successfully!"),m("update:modelValue",!1)},onError:()=>{var s;$.error((s=l.errors.error)!=null?s:"Fields are required")},onFinish:()=>{setTimeout(()=>{v.value=!1},100)}})};return(s,t)=>(c(),g("div",null,[o(w,{modelValue:d.value,"onUpdate:modelValue":t[3]||(t[3]=a=>d.value=a)},{default:V(()=>[e("div",we,[$e,ke,e("form",{class:"mt-3",onSubmit:p(x,["prevent"])},[o(k,{id:"category",modelValue:u(l).text,"onUpdate:modelValue":t[0]||(t[0]=a=>u(l).text=a),"max-length":35,class:"mb-1",label:"Category",error:u(l).errors.text,autofocus:""},null,8,["modelValue","error"]),o(k,{id:"blurb",modelValue:u(l).blurb,"onUpdate:modelValue":t[1]||(t[1]=a=>u(l).blurb=a),"max-length":150,label:"Description",error:u(l).errors.blurb},null,8,["modelValue","error"]),e("div",Ae,[o(b,{label:"Cancel",color:"gray",onClick:t[2]||(t[2]=p(a=>d.value=!1,["prevent"]))}),o(b,{label:"Save Category",color:"success",type:"submit",loading:v.value},null,8,["loading"])])],40,Se)])]),_:1},8,["modelValue"])]))}},je={class:"py-2"},Me=e("h1",{class:""}," Update Category ",-1),Be=e("p",{class:"text-base mt-2 font-light"}," Update the text and description of your category ",-1),Fe=["onSubmit"],Te={class:"flex justify-end gap-x-2 mt-3"},Oe={__name:"UpdateCategory",props:{modelValue:Boolean,category:Object},emits:["update:modelValue"],setup(n,{emit:m}){const f=n,d=j({get(){return f.modelValue},set(s){m("update:modelValue",s)}});let l=N({text:"",blurb:""});E(()=>f.category,()=>{l=N({...f.category}),console.log("Forms: ",l)});const v=y(!1),x=()=>{v.value=!0,l.put(route("user-category.update",l.id),{onSuccess:()=>{l.reset(),$.success("Category has been updated successfully!"),m("update:modelValue",!1)},onError:()=>{l.errors&&$.error("All fields are required")},onFinish:()=>{setTimeout(()=>{v.value=!1},100)}})};return(s,t)=>(c(),g("div",null,[o(w,{modelValue:d.value,"onUpdate:modelValue":t[3]||(t[3]=a=>d.value=a)},{default:V(()=>[e("div",je,[Me,Be,e("form",{class:"mt-3",onSubmit:p(x,["prevent"])},[o(k,{id:"category",modelValue:u(l).text,"onUpdate:modelValue":t[0]||(t[0]=a=>u(l).text=a),"max-length":35,class:"mb-1",label:"Category",error:u(l).errors.text},null,8,["modelValue","error"]),o(k,{id:"blurb",modelValue:u(l).blurb,"onUpdate:modelValue":t[1]||(t[1]=a=>u(l).blurb=a),"max-length":150,label:"Description",error:u(l).errors.blurb},null,8,["modelValue","error"]),e("div",Te,[o(b,{label:"Cancel",color:"gray",onClick:t[2]||(t[2]=p(a=>d.value=!1,["prevent"]))}),o(b,{label:"Update Category",color:"success",type:"submit",loading:v.value},null,8,["loading"])])],40,Fe)])]),_:1},8,["modelValue"])]))}},ze={class:"py-2"},De=e("h1",{class:""}," Delete Category ",-1),Ne=e("p",{class:"text-base mt-2 font-light"}," Are you sure you want to delete this category? This will also delete its affirmation ",-1),Ee={class:"flex justify-end gap-x-2 mt-3"},Pe={__name:"DeleteCategory",props:{modelValue:Boolean,categoryId:[Number,String],category:{type:String,default:""}},emits:["update:modelValue"],setup(n,{emit:m}){const f=n,d=j({get(){return f.modelValue},set(x){m("update:modelValue",x)}}),l=y(!1),v=()=>{l.value=!0,M.delete(route("user-category.destroy",f.categoryId),{onSuccess:()=>{$("Category has been deleted!"),m("update:modelValue",!1)},onFinish:()=>{setTimeout(()=>{l.value=!1},100)}})};return(x,s)=>(c(),g("div",null,[o(w,{modelValue:d.value,"onUpdate:modelValue":s[1]||(s[1]=t=>d.value=t)},{default:V(()=>[e("div",ze,[De,Ne,e("div",Ee,[o(b,{label:"Cancel",color:"gray",onClick:s[0]||(s[0]=p(t=>d.value=!1,["prevent"]))}),o(b,{label:"Delete",color:"error",loading:l.value,onClick:p(v,["prevent"])},null,8,["loading","onClick"])])])]),_:1},8,["modelValue"])]))}},qe=e("div",{class:"h-screen w-full bg-gray-900/60 fixed top-0"},null,-1),He={class:"h-screen w-full flex flex-col px-6 md:max-w-7xl mx-auto z-20 relative"},Ie=e("h1",{class:"text-white text-3xl mt-20 text-center"}," Categories ",-1),Le={class:"flex flex-col w-full pb-2"},Ge=e("h2",{class:"text-white font-medium text-2xl mt-8"}," My Categories ",-1),Ke=e("hr",{class:"my-5 border-gray-600"},null,-1),Ye={class:"flex flex-wrap gap-4"},Ze=["onClick"],Je={class:"absolute bottom-3 right-3 gap-x-1 flex"},Qe={class:"absolute top-3 right-3"},Re={class:"font-medium"},We={class:"text-gray-600 text-sm"},Xe={class:"absolute top-3 right-3"},et=e("h3",{class:"font-medium"}," Add Category ",-1),tt=e("p",{class:"text-gray-600 text-sm"}," Create your own category to be able to add your custom affirmations ",-1),ot={class:"flex flex-col w-full pb-40"},lt={class:"text-white font-medium text-2xl mt-8"},at=e("hr",{class:"my-5 border-gray-600"},null,-1),st={class:"flex gap-4 flex-wrap"},rt=["onClick"],nt={key:0,class:"absolute right-3 top-3"},it={key:1,class:"absolute right-3 top-3"},dt={class:"font-medium"},ut={class:"text-gray-600 text-sm"},ct={class:"text-center"},mt=e("h1",{class:"mt-2"}," No Affirmations Found ",-1),ft=e("p",{class:"text-lg max-w-md mx-auto leading-6 mt-2 font-light"}," Please add atleast one affirmation to your category before switching it as active. ",-1),vt={class:"flex items-center justify-center gap-x-2 mt-4"},pt={class:"text-center"},gt={class:"mt-2"},yt={class:"text-lg max-w-md mx-auto leading-6 mt-2 font-light"},xt={class:"flex items-center justify-center gap-x-2 mt-4"},bt={class:"py-2 flex"},ht=e("div",null,[e("h1",{class:"mt-2"}," Subscribe to Premium "),e("p",{class:"text-base max-w-md mx-auto leading-6 mt-2 font-light"}," Gain access to our premium categories, exclusive contents and exciting features within our app. ")],-1),_t={class:"flex items-center justify-end gap-x-2 mt-4"},Ft={__name:"Categories",props:{categories:Object,activeCategory:[Object,Number],isPremium:Boolean,myCategories:Object,activeCategoryType:String,errors:Object},setup(n){const m=n,f=y(""),d=y(!1),l=y(!1),v=y(!1),x=y(!1),s=y(!1),t=y(!1),a=y({}),B=y(""),P=(h,r)=>{a.value=r,h==="delete"?t.value=!0:x.value=!0},q=(h,r="")=>{if(m.isPremium||r==="personal"||!h.premium){if(r=="personal"&&(B.value="personal",h.affirmations.length==0))return s.value=!0;d.value=!0,f.value=h}else l.value=!0},Z=async()=>{M.post(route("setCategory"),{category_id:f.value.id,type:B.value},{onSuccess:()=>{f.value="",d.value=!1,B.value=""}})},S=y(!1),F=y(!1),J=h=>{S.value=!0,a.value=h},Q=()=>{S.value=!1,F.value=!0};return E([()=>F.value],([h])=>{h||(S.value=!0)}),E(()=>m.myCategories,()=>{a.value=m.myCategories.filter(h=>{var r;return h.id===((r=a.value)==null?void 0:r.id)})[0],console.log("Selected Category: ",a)}),(h,r)=>(c(),z(ee,{"background-image":"the-river-gfd490d610_1280.jpg",class:""},{default:V(()=>{var H,I,L;return[o(u(W),{title:"Categories"}),qe,e("div",He,[Ie,e("div",Le,[Ge,Ke,e("div",Ye,[(c(!0),g(T,null,O(n.myCategories,i=>(c(),g("div",{key:i.id,class:"bg-white relative hover:-translate-y-1 active:bg-gray-200 duration-200 ease-out w-96 rounded-md shadow px-5 py-6 cursor-pointer",onClick:p(C=>q(i,"personal"),["prevent"])},[e("div",Je,[o(u(te),{class:"w-5 text-gray-500 hover:text-green-600",onClick:p(C=>J(i),["stop"])},null,8,["onClick"]),o(u(ae),{class:"w-5 text-gray-500 hover:text-green-600",onClick:p(C=>P("update",i),["stop"])},null,8,["onClick"]),o(u(Y),{class:"w-5 text-gray-500 hover:text-red-600",onClick:p(C=>P("delete",i),["stop"])},null,8,["onClick"])]),e("div",Qe,[i.id===n.activeCategory&&n.activeCategoryType==="App\\Models\\UserCategories"?(c(),z(u(D),{key:0,class:"w-7 text-green-600"})):U("",!0)]),e("h3",Re,_(i.text),1),e("p",We,_(i.blurb),1)],8,Ze))),128)),e("div",{class:"bg-white relative hover:-translate-y-1 active:bg-gray-200 duration-200 ease-out w-96 rounded-md shadow px-5 py-6 cursor-pointer",onClick:r[0]||(r[0]=p(i=>v.value=!0,["prevent"]))},[e("div",Xe,[o(u(oe),{class:"w-6 text-green-600 hover:text-green-700"})]),et,tt])])]),e("div",ot,[(c(!0),g(T,null,O(n.categories,(i,C)=>(c(),g("div",{key:`${C}-category`},[e("h2",lt,_(C==0?"Free":"Premium"),1),at,e("div",st,[(c(!0),g(T,null,O(i,A=>(c(),g("div",{key:A.id,class:X(["relative hover:-translate-y-1 active:bg-gray-200 duration-200 ease-out w-96 rounded-md shadow px-5 py-6 cursor-pointer",[C==0||n.isPremium?"bg-white":"bg-gray-200"]]),onClick:p(Vt=>q(A),["prevent"])},[A.id===n.activeCategory&&n.activeCategoryType==="App\\Models\\Category"?(c(),g("div",nt,[o(u(D),{class:"w-6 text-green-600"})])):U("",!0),!n.isPremium&&C!=0?(c(),g("div",it,[o(u(K),{class:"w-6"})])):U("",!0),e("h3",dt,_(A.text),1),e("p",ut,_(A.blurb),1)],10,rt))),128))])]))),128))])]),o(w,{modelValue:s.value,"onUpdate:modelValue":r[2]||(r[2]=i=>s.value=i)},{default:V(()=>[e("div",ct,[o(u(le),{class:"w-14 mx-auto text-red-600"}),mt,ft]),e("div",vt,[o(b,{label:"Close","btn-block":"",color:"gray",onClick:r[1]||(r[1]=p(i=>s.value=!1,["prevent"]))})])]),_:1},8,["modelValue"]),o(w,{modelValue:d.value,"onUpdate:modelValue":r[4]||(r[4]=i=>d.value=i)},{default:V(()=>[e("div",pt,[o(u(D),{class:"w-14 mx-auto text-green-600"}),e("h1",gt,_(f.value.text),1),e("p",yt,_(f.value.blurb),1)]),e("div",xt,[o(b,{label:"Cancel",color:"gray",onClick:r[3]||(r[3]=p(i=>d.value=!1,["prevent"]))}),o(b,{label:"Switch Category",color:"success",onClick:p(Z,["prevent"])},null,8,["onClick"])])]),_:1},8,["modelValue"]),o(w,{modelValue:l.value,"onUpdate:modelValue":r[6]||(r[6]=i=>l.value=i)},{default:V(()=>[e("div",bt,[o(u(K),{class:"w-14 mx-auto text-gray-400"}),ht]),e("div",_t,[o(b,{label:"Cancel",color:"error","component-type":"link",onClick:r[5]||(r[5]=p(i=>l.value=!1,["prevent"]))}),o(b,{"component-type":"link",href:"/billing",label:"Subscribe for Access",color:"success"})])]),_:1},8,["modelValue"]),o(Ce,{modelValue:S.value,"onUpdate:modelValue":r[7]||(r[7]=i=>S.value=i),affirmations:(H=a.value)==null?void 0:H.affirmations,onAddAffirmation:Q},null,8,["modelValue","affirmations"]),o(ue,{modelValue:F.value,"onUpdate:modelValue":r[8]||(r[8]=i=>F.value=i),category:a.value,errors:n.errors},null,8,["modelValue","category","errors"]),o(Ue,{modelValue:v.value,"onUpdate:modelValue":r[9]||(r[9]=i=>v.value=i)},null,8,["modelValue"]),o(Oe,{modelValue:x.value,"onUpdate:modelValue":r[10]||(r[10]=i=>x.value=i),category:a.value},null,8,["modelValue","category"]),o(Pe,{modelValue:t.value,"onUpdate:modelValue":r[11]||(r[11]=i=>t.value=i),category:(I=a.value)==null?void 0:I.text,"category-id":(L=a.value)==null?void 0:L.id},null,8,["modelValue","category","category-id"])]}),_:1}))}};export{Ft as default};
