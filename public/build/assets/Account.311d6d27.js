import{r as i,T as k,q as B,o as n,f as C,c as u,w as p,a as t,d,u as e,i as j,b as a,l as c,n as A,t as $}from"../app.js";import{d as h}from"./AuthenticatedLayout.44fd2bff.js";import{_ as M}from"./Settings.7d4be5f8.js";import{_ as T}from"./Modal.4b7d0677.js";import{_ as b}from"./Button.7aedc941.js";import{_ as w}from"./FormInput.f6e939f6.js";import{_ as D}from"./AuthenticateMobileSettingLayout.bd58082e.js";import{r as x}from"./EyeSlashIcon.3298b035.js";import{r as g}from"./EyeIcon.48c31235.js";import{r as E}from"./CheckCircleIcon.a00ffa1a.js";import{r as I}from"./XCircleIcon.c57263f9.js";import"./index.m.c450fc65.js";const O={class:"md:w-full md:pl-16 md:pr-8 md:py-16 h-full"},q=["onSubmit"],z={key:0,class:"mb-5 border-b-2 border-hover-theme-green pb-4"},F=t("h1",{class:"dark:text-white text-theme-green text-center md:text-left font-semibold"}," Account Settings ",-1),H=[F],G=t("div",{class:"mb-10"},[t("h1",{class:"dark:text-white text-theme-green font-medium"}," Personal Information "),t("p",{class:"dark:text-gray-400"}," Please make sure to enter a correct information ")],-1),J=t("br",null,null,-1),K=t("hr",{class:"my-6"},null,-1),L=["onSubmit"],Q=t("div",{class:"mb-8"},[t("h1",{class:"dark:text-white text-theme-green font-medium"}," Update Password "),t("p",{class:"dark:text-gray-400"}," Please make sure to enter a secure password ")],-1),R={class:"md:flex md:justify-between gap-x-3"},W=t("br",null,null,-1),X={class:"text-center"},Y={class:"mt-2"},Z={class:"text-lg max-w-md mx-auto leading-6 mt-2 font-light"},ee={class:"flex items-center justify-center gap-x-2 mt-4"},we={__name:"Account",props:{user:Object,errors:Object},setup(_){const v=_,P=i("Account Settings"),m=k({name:v.user.name,email:v.user.email}),f=i(!1),y=i(""),V=i(""),S=i(!0),l=k({current_password:"",password:"",password_confirmation:""}),r=B({old_password:!1,new_password:!1,confirm_new_password:!1}),U=()=>{l.patch(route("setting.security.update"))},N=()=>{m.patch(route("setting.user.update",v.user.id),{onSuccess:()=>{f.value=!0,V.value="Successfully changed the personal infomation",y.value="Success!"}})};return(se,s)=>(n(),C("div",null,[(n(),u(c(e(h.exports.isMobile)?D:M),{"route-name":P.value},{default:p(()=>[t("div",{class:A(e(h.exports.isMobile)?"w-full h-full p-4":"")},[t("div",O,[t("form",{onSubmit:d(N,["prevent"])},[e(h.exports.isMobile)?j("",!0):(n(),C("div",z,H)),G,a(w,{id:"fullname",modelValue:e(m).name,"onUpdate:modelValue":s[0]||(s[0]=o=>e(m).name=o),label:"Full Name",type:"text"},null,8,["modelValue"]),a(w,{id:"email",modelValue:e(m).email,"onUpdate:modelValue":s[1]||(s[1]=o=>e(m).email=o),type:"email",label:"Email Address",class:"mt-6"},null,8,["modelValue"]),J,a(b,{label:"Save Changes","btn-block":"",color:"success",type:"submit"})],40,q),K,t("form",{onSubmit:d(U,["prevent"])},[Q,a(w,{id:"old_password",modelValue:e(l).current_password,"onUpdate:modelValue":s[3]||(s[3]=o=>e(l).current_password=o),class:"md:mb-4",label:"Current Password",type:r.password?"text":"password",error:_.errors.current_password},{"icon-right":p(()=>[(n(),u(c(r.password?e(x):e(g)),{class:"text-theme-green w-5 h-5 cursor-pointer hover:text-hover-theme-green duration-200 ease-out",onClick:s[2]||(s[2]=d(o=>r.password=!r.password,["prevent"]))}))]),_:1},8,["modelValue","type","error"]),t("div",R,[a(w,{id:"new_password",modelValue:e(l).password,"onUpdate:modelValue":s[5]||(s[5]=o=>e(l).password=o),type:r.new_password?"text":"password",label:"New Password",class:"w-full md:w-1/2",error:_.errors.password},{"icon-right":p(()=>[(n(),u(c(r.new_password?e(x):e(g)),{class:"text-theme-green w-5 h-5 cursor-pointer hover:text-hover-theme-green duration-200 ease-out",onClick:s[4]||(s[4]=d(o=>r.new_password=!r.new_password,["prevent"]))}))]),_:1},8,["modelValue","type","error"]),a(w,{id:"confirm_new_password",modelValue:e(l).password_confirmation,"onUpdate:modelValue":s[7]||(s[7]=o=>e(l).password_confirmation=o),type:r.confirm_new_password?"text":"password",label:"Confirm New Password",class:"w-full md:w-1/2"},{"icon-right":p(()=>[(n(),u(c(r.confirm_new_password?e(x):e(g)),{class:"text-theme-green w-5 h-5 cursor-pointer hover:text-hover-theme-green duration-200 ease-out",onClick:s[6]||(s[6]=d(o=>r.confirm_new_password=!r.confirm_new_password,["prevent"]))}))]),_:1},8,["modelValue","type"])]),W,a(b,{label:"Update Password","btn-block":"",color:"success",type:"submit"})],40,L)])],2)]),_:1},8,["route-name"])),a(T,{modelValue:f.value,"onUpdate:modelValue":s[9]||(s[9]=o=>f.value=o)},{default:p(()=>[t("div",X,[(n(),u(c(S.value?e(E):e(I)),{class:"w-14 mx-auto text-green-600 duration-200 ease-out"})),t("h1",Y,$(y.value),1),t("p",Z,$(V.value),1)]),t("div",ee,[a(b,{label:"Close",color:"success","btn-block":"",onClick:s[8]||(s[8]=d(o=>f.value=!1,["prevent"]))})])]),_:1},8,["modelValue"])]))}};export{we as default};
