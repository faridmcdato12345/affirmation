import{T as w,r as b,C as O,o as s,f as v,a as e,M as z,N as F,j as E,c as k,w as j,b as p,d as g,u as t,i as y,x as Y,L as J,q as N,n as T,l as M,k as Z,F as ee,s as te,t as U,P as oe,Q as se,R as le,O as P}from"../app.js";import{t as V}from"./useToast.e3f4d0c9.js";import{_ as G}from"./_plugin-vue_export-helper.cdc0426e.js";import{_ as $}from"./Button.7aedc941.js";import{_ as B}from"./Modal.4b7d0677.js";import{_ as L}from"./FormInput.f6e939f6.js";import{d as _}from"./AuthenticatedLayout.44fd2bff.js";import{_ as ae}from"./AuthenticateMobileSettingLayout.bd58082e.js";import{_ as re}from"./Settings.7d4be5f8.js";import{_ as ie}from"./Button.e50ac832.js";import{r as ne}from"./PlusCircleIcon.c72ca0fb.js";import{a as de,r as ue}from"./TrashIcon.4e5fdea3.js";import{r as me}from"./CheckCircleIcon.a00ffa1a.js";import{r as ce}from"./XCircleIcon.c57263f9.js";import"./index.m.c450fc65.js";const pe=i=>(z("data-v-94ad7249"),i=i(),F(),i),fe={class:"switch"},_e=["checked"],ve=pe(()=>e("span",{class:"slider round"},null,-1)),be={__name:"ToggleStatusSwitch",props:{notifiable:Boolean,reminder:Object},setup(i){const n=i;let r=w({status:""});const l=b(n.notifiable==1);O(()=>n.reminder,()=>{r=w({...n.reminder})});const o=()=>{l.value=!l.value,r=w({status:l.value}),r.patch(route("setting.reminder.status.update",n.reminder.id),{onSuccess:()=>{V.success("Status has been updated!")},onError:()=>{r.errors&&V.error("Something went wrong!")}})};return(d,c)=>(s(),v("label",fe,[e("input",{type:"checkbox",checked:n.notifiable==1,onClick:o},null,8,_e),ve]))}},ge=G(be,[["__scopeId","data-v-94ad7249"]]),he={class:"py-2"},xe=e("h1",{class:""}," Delete Reminder ",-1),ye=e("p",{class:"text-base mt-2 font-light"}," Are you sure you want to delete this reminder? ",-1),ke={class:"flex justify-end gap-x-2 mt-3"},H={__name:"DeleteReminder",props:{modelValue:Boolean,reminder:Object},emits:["update:modelValue"],setup(i,{emit:n}){const r=i,l=E({get(){return r.modelValue},set(c){n("update:modelValue",c)}});let o=w({original_time:""});O(()=>r.reminder,()=>{o=w({...r.reminder})});const d=()=>{o.delete(route("setting.reminder.delete",o.id),{onSuccess:()=>{o.reset(),V.success("Time has been deleted successfully!"),n("update:modelValue",!1)},onError:()=>{o.errors&&V.error("All fields are required")}})};return(c,u)=>(s(),k(B,{modelValue:l.value,"onUpdate:modelValue":u[1]||(u[1]=f=>l.value=f)},{default:j(()=>[e("div",he,[xe,ye,e("div",ke,[p($,{label:"Cancel",color:"gray",onClick:u[0]||(u[0]=g(f=>l.value=!1,["prevent"]))}),p($,{label:"Delete",color:"error",loading:c.loading,onClick:g(d,["prevent"])},null,8,["loading","onClick"])])])]),_:1},8,["modelValue"]))}},we={class:"text-left"},Ve={key:0,class:"mt-2 mb-8"},Se={key:1,class:"mt-2 mb-8"},$e=e("hr",null,null,-1),Ce=["onSubmit"],Te={class:"edit-modal-body"},Me={class:"flex justify-end gap-x-2 mt-4"},je={__name:"UpdateReminder",props:{modelValue:Boolean,reminder:Object},emits:["update:modelValue"],setup(i,{emit:n}){const r=i,l=b(!1),o=E({get(){return r.modelValue},set(f){n("update:modelValue",f)}});let d=w({original_time:""});O(()=>r.reminder,()=>{d=w({...r.reminder}),console.log("Forms: ",d)});const c=()=>{d.patch(route("setting.reminder.update",d.id),{onSuccess:()=>{d.reset(),V.success("Time has been updated successfully!"),n("update:modelValue",!1)},onError:()=>{d.errors&&V.error("All fields are required")}})},u=()=>{n("update:modelValue",!1),l.value=!0};return(f,h)=>(s(),v("div",null,[p(B,{modelValue:o.value,"onUpdate:modelValue":h[2]||(h[2]=x=>o.value=x)},{default:j(()=>[e("div",we,[t(_.exports.isMobile)?(s(),v("h1",Ve," Edit or Delete Personal Reminder ")):(s(),v("h1",Se," Edit Personal Reminder "))]),$e,e("form",{class:"mt-8",onSubmit:g(c,["prevent"])},[e("div",Te,[p(L,{id:"input1",modelValue:t(d).original_time,"onUpdate:modelValue":h[0]||(h[0]=x=>t(d).original_time=x),label:"Time",required:"",type:"time",error:t(d).errors.original_time},null,8,["modelValue","error"])]),e("div",Me,[p($,{label:"Save",type:"submit",color:"success"}),t(_.exports.isMobile)?(s(),k($,{key:0,label:"Delete",type:"button",color:"error",onClick:g(u,["prevent"])},null,8,["onClick"])):y("",!0),p($,{label:"Cancel",color:"gray",onClick:h[1]||(h[1]=g(x=>o.value=!1,["prevent"]))})])],40,Ce)]),_:1},8,["modelValue"]),t(_.exports.isMobile)?(s(),k(H,{key:0,modelValue:l.value,"onUpdate:modelValue":h[3]||(h[3]=x=>l.value=x),reminder:r.reminder},null,8,["modelValue","reminder"])):y("",!0)]))}},Ie=e("div",{class:"text-left"},[e("h1",{class:"mt-2 mb-8"}," Add Personal Reminder ")],-1),Re=e("hr",null,null,-1),Ne=["onSubmit"],Ue={class:"edit-modal-body"},Be={class:"flex justify-end gap-x-2 mt-4"},De={__name:"AddReminder",props:{modelValue:Boolean,isSubscribed:Boolean},emits:["update:modelValue"],setup(i,{emit:n}){const r=i,l=E({get(){return r.modelValue},set(c){n("update:modelValue",c)}}),o=w({original_time:"",custom_message:""}),d=()=>{o.post(route("setting.reminder.store"),{onSuccess:()=>{o.reset(),V.success("Time has been added successfully!"),n("update:modelValue",!1)},onError:()=>{var c;V.error((c=o.errors.error)!=null?c:"Fields are required")}})};return(c,u)=>(s(),k(B,{modelValue:l.value,"onUpdate:modelValue":u[3]||(u[3]=f=>l.value=f)},{default:j(()=>[Ie,Re,e("form",{class:"mt-8",onSubmit:g(d,["prevent"])},[e("div",Ue,[p(L,{id:"input1",modelValue:t(o).original_time,"onUpdate:modelValue":u[0]||(u[0]=f=>t(o).original_time=f),label:"Time",required:"",type:"time",error:t(o).errors.original_time},null,8,["modelValue","error"]),r.isSubscribed?Y((s(),v("textarea",{key:0,id:"custom_message","onUpdate:modelValue":u[1]||(u[1]=f=>t(o).custom_message=f),name:"",cols:"10",rows:"4",placeholder:"Write your customer message here",class:"border-2 border-hover-theme-green w-full rounded-md px-2 py-1 dark:bg-gray-800 mt-4"},null,512)),[[J,t(o).custom_message]]):y("",!0)]),e("div",Be,[p($,{label:"Save",type:"submit",color:"success"}),p($,{label:"Cancel",color:"gray",onClick:u[2]||(u[2]=g(f=>l.value=!1,["prevent"]))})])],40,Ne)]),_:1},8,["modelValue"]))}};const qe=i=>(z("data-v-3223bb7f"),i=i(),F(),i),Ae={class:"switch"},Oe=["checked"],Ee=qe(()=>e("span",{class:"slider round"},null,-1)),Pe={__name:"ToggleSwitch",props:{notifiable:Boolean},emits:["toggleCheckbox"],setup(i,{emit:n}){const r=i,l=b(r.notifiable==1),o=()=>{l.value=!l.value,n("toggleCheckbox",l.value)};return(d,c)=>(s(),v("label",Ae,[e("input",{type:"checkbox",checked:r.notifiable==1,onClick:o},null,8,Oe),Ee]))}},ze=G(Pe,[["__scopeId","data-v-3223bb7f"]]),Fe={class:"md:w-full md:pl-16 md:pr-8 md:py-16 h-full"},Ge=e("h1",{class:"dark:text-white text-theme-green md:text-left text-center"}," Reminders ",-1),Le=[Ge],He={class:"flex justify-between"},Ke=e("p",{class:"dark:text-gray-300"}," Enable to start receiving notifications ",-1),Qe=e("div",{class:"mt-7"},[e("h1",{class:"dark:text-white text-theme-green font-medium"}," Personal Reminder "),e("p",{class:"dark:text-gray-300"}," Schedule your reminder to make your affirmation fit your routine. ")],-1),We={key:2,class:""},Xe={class:"overflow-y-auto relative h-auto md:h-auto"},Ye=["onClick"],Je={class:"text-white text-base font-semibold"},Ze={key:0,class:"text-white"},et={key:0,class:"flex justify-between gap-x-2"},tt={class:"text-center"},ot={class:"mt-2"},st={class:"text-lg max-w-md mx-auto leading-6 mt-2 font-light"},lt={class:"flex items-center justify-center gap-x-2 mt-4"},xt={__name:"Reminder",props:{reminders:Object},setup(i){const n=i,r=b("Reminder"),l=b(!1),o=b(""),d=b(!1),c=b(!1),u=b(!1),f=b(""),h=b(!0),x=b({}),I=N({value:localStorage.getItem("isSubcribe")==="true"}),D=b(0);I.value=localStorage.getItem("isSubcribe"),D.value=localStorage.getItem("isNotify");const q=N({value:D.value==1}),K=S=>{if(q.value=S,S){const C=oe({apiKey:"AIzaSyCDL5jn4IThej6gpOILzj8XmrzOFMRn0H0",authDomain:"affirm-7b375.firebaseapp.com",projectId:"affirm-7b375",storageBucket:"affirm-7b375.appspot.com",messagingSenderId:"629732409638",appId:"1:629732409638:web:48727d1382c07824e941e7",measurementId:"G-G2NDWXEH44"}),a=se(C);Notification.permission!=="denied"&&Notification.requestPermission().then(R=>{R==="granted"&&le(a,{vapidKey:"BBAUnekRlG_a9NYANo55GflZVJmmx1MmqERD6rfn1Ka_OUxOqjOizxQ1x568qRi81w-flcnnv1Q0sS3TkqGVyDA"}).then(W=>{const X=N({fcm_token:W,isNotify:!0});P.post(route("fcmToken"),X),localStorage.setItem("isNotify",1)})})}else{const m=N({isNotify:!1});P.post(route("fcmToken"),m),localStorage.setItem("isNotify",0)}},A=(S,m)=>{x.value=m,S==="delete"?u.value=!0:c.value=!0},Q=S=>{const[m,C]=S.split(":");return new Date(0,0,0,m,C).toLocaleString("en-US",{hour:"numeric",minute:"numeric",hour12:!0})};return(S,m)=>(s(),k(M(t(_.exports.isMobile)?ae:re),{"route-name":r.value,"is-button-header":!0},{default:j(()=>{var C;return[e("div",{class:T(t(_.exports.isMobile)?"w-full h-full p-4":"")},[e("div",Fe,[t(_.exports.isMobile)?y("",!0):(s(),v("div",{key:0,class:T(["mb-9 border-b-2 border-hover-theme-green pb-5",(C=t(_.exports.isMobile))!=null?C:"flex justify-between"])},Le,2)),e("div",He,[(s(),k(M(t(_.exports.isMobile)?"h5":"h1"),{class:"dark:text-white text-theme-green md:text-left font-medium"},{default:j(()=>[Z(" Receive notification ")]),_:1})),p(ze,{notifiable:D.value,onToggleCheckbox:K},null,8,["notifiable"])]),Ke,q.value?(s(),v("div",{key:1,class:T(t(_.exports.isMobile)?"mb-2":"mb-6 flex justify-between")},[Qe,I.value?(s(),v("div",{key:0,class:T(t(_.exports.isMobile)?"flex justify-end":"")},[(s(),k(M(t(ne)),{class:"mt-7 w-8 h-8 text-theme-green cursor-pointer hover:text-theme-green/70 transition-all dark:text-green-600 dark:hover:text-green-700",onClick:m[0]||(m[0]=g(a=>d.value=!0,["prevent"]))}))],2)):y("",!0)],2)):y("",!0),q.value?(s(),v("div",We,[e("div",Xe,[(s(!0),v(ee,null,te(n.reminders,a=>(s(),v("div",{key:a.id,class:"flex justify-between bg-green-800 p-4 text-white rounded items-center mb-4"},[e("div",{class:T(t(_.exports.isMobile)?"":"w-60"),onClick:R=>t(_.exports.isMobile)?A("edit",a):""},[e("p",Je,U(Q(a.original_time)),1),I.value?(s(),v("p",Ze,' "'+U(a.custom_message?a.custom_message:"You can add your custom message")+'" ',1)):y("",!0)],10,Ye),e("div",{class:T(t(_.exports.isMobile)?"":"w-52")},[p(ge,{notifiable:a.status,reminder:a},null,8,["notifiable","reminder"])],2),t(_.exports.isMobile)?y("",!0):(s(),v("div",et,[I.value?(s(),k(M(t(de)),{key:0,class:"w-6 h-6 cursor-pointer duration-200 ease-out",onClick:g(R=>A("edit",a),["stop"])},null,8,["onClick"])):y("",!0),(s(),k(M(t(ue)),{class:"w-6 h-6 cursor-pointer duration-200 ease-out",onClick:g(R=>A("delete",a),["stop"])},null,8,["onClick"]))]))]))),128))])])):y("",!0)])],2),p(B,{modelValue:l.value,"onUpdate:modelValue":m[2]||(m[2]=a=>l.value=a)},{default:j(()=>[e("div",tt,[(s(),k(M(h.value?t(me):t(ce)),{class:"w-14 mx-auto text-green-600 duration-200 ease-out"})),e("h1",ot,U(f.value),1),e("p",st,U(o.value),1)]),e("div",lt,[p(ie,{label:"Cancel",color:"error",onClick:m[1]||(m[1]=g(a=>l.value=!1,["prevent"]))})])]),_:1},8,["modelValue"]),p(je,{modelValue:c.value,"onUpdate:modelValue":m[3]||(m[3]=a=>c.value=a),reminder:x.value},null,8,["modelValue","reminder"]),p(De,{modelValue:d.value,"onUpdate:modelValue":m[4]||(m[4]=a=>d.value=a),"is-subscribed":I},null,8,["modelValue","is-subscribed"]),p(H,{modelValue:u.value,"onUpdate:modelValue":m[5]||(m[5]=a=>u.value=a),reminder:x.value},null,8,["modelValue","reminder"])]}),_:1},8,["route-name"]))}};export{xt as default};
