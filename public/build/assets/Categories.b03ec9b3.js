import{q as R,j,r as p,o as f,f as y,b as o,w as V,a as e,d as v,u,O as M,t as h,c as D,F as T,s as O,i as U,k as K,T as E,C as P,Z as W,n as X}from"../app.js";import{_ as $}from"./Modal.c851f4cd.js";import{_ as k}from"./FormInput.b426eef8.js";import{_ as b}from"./Button.c0cdbdec.js";import{t as w}from"./useToast.6c330c37.js";import{r as L,_ as ee}from"./AuthenticatedLayout.16b5006f.js";import{r as Y,a as te}from"./TrashIcon.61f92f5e.js";import{r as oe}from"./EyeIcon.8d141c83.js";import{r as N}from"./CheckCircleIcon.3493ab65.js";import{r as le}from"./PlusCircleIcon.5be1b2c0.js";import{r as ae}from"./XCircleIcon.eff5350d.js";const se={class:"py-2"},re=e("h1",{class:""}," Custom Affirmation ",-1),ne=e("p",{class:"text-base mt-2 font-light"}," Add your own custom affirmation for your selected category. ",-1),ie=["onSubmit"],de={class:"flex justify-end gap-x-2 mt-3"},ue={__name:"AddAffirmation",props:{modelValue:Boolean,category:{type:Object},errors:Object},emits:["update:modelValue"],setup(i,{emit:g}){const c=i;let d=R({text:"",user_categories_id:null});const l=j({get(){return c.modelValue},set(s){g("update:modelValue",s)}}),m=p(!1),x=()=>{m.value=!0,M.post(route("user-affirmation.store"),{...d,user_categories_id:c.category.id},{onSuccess:()=>{w.success("Affirmation has been added successfully!"),g("update:modelValue")},onError:()=>{var s;w.error((s=c.errors.error)!=null?s:"You need to be premium to add more affirmations"),m.value=!1},onFinish:()=>{m.value=!1}})};return(s,t)=>(f(),y("div",null,[o($,{modelValue:l.value,"onUpdate:modelValue":t[2]||(t[2]=a=>l.value=a)},{default:V(()=>[e("div",se,[re,ne,e("form",{class:"mt-3",onSubmit:v(x,["prevent"])},[o(k,{id:"text",modelValue:u(d).text,"onUpdate:modelValue":t[0]||(t[0]=a=>u(d).text=a),class:"mb-1",label:"Affirmation"},null,8,["modelValue"]),e("div",de,[o(b,{label:"Cancel",color:"gray",onClick:t[1]||(t[1]=v(a=>l.value=!1,["prevent"]))}),o(b,{label:"Save Affirmation",color:"success",type:"submit",loading:m.value},null,8,["loading"])])],40,ie)])]),_:1},8,["modelValue"])]))}},ce={tabindex:"0",class:"relative flex justify-between px-3 py-3 border rounded-sm my-2"},me={class:"text-sm text-gray-500"},fe={class:"absolute top-1/2 -translate-y-1/2 right-4 flex gap-x-1"},ve={__name:"AffirmationCard",props:{id:{type:[String,Number],required:!0},affirmation:{type:String,required:!0},date:{type:[String,Date],required:!0}},emits:["delete"],setup(i,{emit:g}){const c=i,d=p(!1),l=p(),m=()=>{d.value=!1,M.put(route("user-affirmation.update",c.id),{text:l.value}),console.log("Updating affirmation ...")},x=s=>{l.value=s};return(s,t)=>(f(),y("div",ce,[e("div",null,[d.value?(f(),D(k,{key:1,id:i.id,autofocus:"",label:"Update affirmation","model-value":i.affirmation,class:"w-[400px]","onUpdate:modelValue":x,onKeyupEnter:m,onBlur:t[1]||(t[1]=a=>d.value=!1)},null,8,["id","model-value"])):(f(),y("h2",{key:0,class:"font-medium max-w-[45ch]",onClick:t[0]||(t[0]=v(a=>d.value=!0,["prevent"]))},h(i.affirmation),1)),e("p",me,h(i.date),1)]),e("div",fe,[o(u(Y),{class:"w-6 text-gray-500 hover:text-red-600 cursor-pointer",onClick:t[2]||(t[2]=v(a=>g("delete"),["prevent"]))})])]))}},ge={class:"py-2"},pe=e("h1",{class:""}," Affirmations ",-1),ye=e("p",{class:"text-base mt-2 font-light"}," Here are your custom affirmations for the selected category. ",-1),xe={class:"max-h-[300px] overflow-y-auto mt-2 py-1"},be={key:0,class:"text-base mt-2 mb-3"},_e={key:0,class:"text-sm"},he=e("span",{class:"font-medium text-black"},"enter",-1),Ve={class:"flex justify-end mt-4 gap-x-2"},Ce={__name:"Affirmations",props:{modelValue:Boolean,affirmations:{type:Object,default:()=>{}}},emits:["update:modelValue","add-affirmation"],setup(i,{emit:g}){const c=i,d=j({get(){return c.modelValue},set(s){g("update:modelValue",s)}}),l=p(!1),m=s=>{console.log("Update affirmation: ",s)},x=s=>{l.value=!0,M.delete(route("user-affirmation.destroy",s),{onSuccess:()=>{w.success("Affirmation has been deleted successfully!")},onError:()=>{l.value=!1},onFinish:()=>{l.value=!1}})};return(s,t)=>(f(),y("div",null,[o($,{modelValue:d.value,"onUpdate:modelValue":t[2]||(t[2]=a=>d.value=a)},{default:V(()=>[e("div",ge,[pe,ye,e("div",xe,[(f(!0),y(T,null,O(i.affirmations,a=>(f(),D(ve,{id:a.id,key:a.id,affirmation:a.text,date:a.created_at,onDelete:B=>x(a.id),onUpdate:m},null,8,["id","affirmation","date","onDelete"]))),128)),i.affirmations.length==0?(f(),y("p",be," There are no affirmations added to this category. ")):U("",!0)]),i.affirmations.length!=0?(f(),y("p",_e,[K(" Click on an affirmation text to edit and press "),he,K(" to save update. ")])):U("",!0),e("div",Ve,[o(b,{label:"Close",color:"gray",onClick:t[0]||(t[0]=v(a=>g("update:modelValue"),["prevent"]))}),o(b,{label:"Add Affirmation",color:"success",onClick:t[1]||(t[1]=v(a=>g("add-affirmation"),["prevent"]))})])])]),_:1},8,["modelValue"])]))}},$e={class:"py-2"},we=e("h1",{class:""}," Custom Category ",-1),ke=e("p",{class:"text-base mt-2 font-light"}," Add your own category so that you can add your own affirmation. ",-1),Se=["onSubmit"],Ae={class:"flex justify-end gap-x-2 mt-3"},Ue={__name:"AddCategory",props:{modelValue:Boolean},emits:["update:modelValue"],setup(i,{emit:g}){const c=i,d=j({get(){return c.modelValue},set(s){g("update:modelValue",s)}}),l=E({text:"",blurb:""}),m=p(!1),x=()=>{m.value=!0,l.post(route("user-category.store"),{onSuccess:()=>{var s;l.reset(),w.success((s=l.errors.error)!=null?s:"Category has been added successfully!"),g("update:modelValue",!1)},onError:()=>{var s;w.error((s=l.errors.error)!=null?s:"Fields are required")},onFinish:()=>{setTimeout(()=>{m.value=!1},100)}})};return(s,t)=>(f(),y("div",null,[o($,{modelValue:d.value,"onUpdate:modelValue":t[3]||(t[3]=a=>d.value=a)},{default:V(()=>[e("div",$e,[we,ke,e("form",{class:"mt-3",onSubmit:v(x,["prevent"])},[o(k,{id:"category",modelValue:u(l).text,"onUpdate:modelValue":t[0]||(t[0]=a=>u(l).text=a),"max-length":35,class:"mb-1",label:"Category",error:u(l).errors.text,autofocus:""},null,8,["modelValue","error"]),o(k,{id:"blurb",modelValue:u(l).blurb,"onUpdate:modelValue":t[1]||(t[1]=a=>u(l).blurb=a),"max-length":150,label:"Description",error:u(l).errors.blurb},null,8,["modelValue","error"]),e("div",Ae,[o(b,{label:"Cancel",color:"gray",onClick:t[2]||(t[2]=v(a=>d.value=!1,["prevent"]))}),o(b,{label:"Save Category",color:"success",type:"submit",loading:m.value},null,8,["loading"])])],40,Se)])]),_:1},8,["modelValue"])]))}},je={class:"py-2"},Me=e("h1",{class:""}," Update Category ",-1),Be=e("p",{class:"text-base mt-2 font-light"}," Update the text and description of your category ",-1),Fe=["onSubmit"],Te={class:"flex justify-end gap-x-2 mt-3"},Oe={__name:"UpdateCategory",props:{modelValue:Boolean,category:Object},emits:["update:modelValue"],setup(i,{emit:g}){const c=i,d=j({get(){return c.modelValue},set(s){g("update:modelValue",s)}});let l=E({text:"",blurb:""});P(()=>c.category,()=>{l=E({...c.category}),console.log("Forms: ",l)});const m=p(!1),x=()=>{m.value=!0,l.put(route("user-category.update",l.id),{onSuccess:()=>{l.reset(),w.success("Category has been updated successfully!"),g("update:modelValue",!1)},onError:()=>{l.errors&&w.error("All fields are required")},onFinish:()=>{setTimeout(()=>{m.value=!1},100)}})};return(s,t)=>(f(),y("div",null,[o($,{modelValue:d.value,"onUpdate:modelValue":t[3]||(t[3]=a=>d.value=a)},{default:V(()=>[e("div",je,[Me,Be,e("form",{class:"mt-3",onSubmit:v(x,["prevent"])},[o(k,{id:"category",modelValue:u(l).text,"onUpdate:modelValue":t[0]||(t[0]=a=>u(l).text=a),"max-length":35,class:"mb-1",label:"Category",error:u(l).errors.text},null,8,["modelValue","error"]),o(k,{id:"blurb",modelValue:u(l).blurb,"onUpdate:modelValue":t[1]||(t[1]=a=>u(l).blurb=a),"max-length":150,label:"Description",error:u(l).errors.blurb},null,8,["modelValue","error"]),e("div",Te,[o(b,{label:"Cancel",color:"gray",onClick:t[2]||(t[2]=v(a=>d.value=!1,["prevent"]))}),o(b,{label:"Update Category",color:"success",type:"submit",loading:m.value},null,8,["loading"])])],40,Fe)])]),_:1},8,["modelValue"])]))}},De={class:"py-2"},Ne=e("h1",{class:""}," Delete Category ",-1),Ee=e("p",{class:"text-base mt-2 font-light"}," Are you sure you want to delete this category? This will also delete its affirmation ",-1),Pe={class:"flex justify-end gap-x-2 mt-3"},qe={__name:"DeleteCategory",props:{modelValue:Boolean,categoryId:[Number,String],category:{type:String,default:""}},emits:["update:modelValue"],setup(i,{emit:g}){const c=i,d=j({get(){return c.modelValue},set(x){g("update:modelValue",x)}}),l=p(!1),m=()=>{l.value=!0,M.delete(route("user-category.destroy",c.categoryId),{onSuccess:()=>{w("Category has been deleted!"),g("update:modelValue",!1)},onFinish:()=>{setTimeout(()=>{l.value=!1},100)}})};return(x,s)=>(f(),y("div",null,[o($,{modelValue:d.value,"onUpdate:modelValue":s[1]||(s[1]=t=>d.value=t)},{default:V(()=>[e("div",De,[Ne,Ee,e("div",Pe,[o(b,{label:"Cancel",color:"gray",onClick:s[0]||(s[0]=v(t=>d.value=!1,["prevent"]))}),o(b,{label:"Delete",color:"error",loading:l.value,onClick:v(m,["prevent"])},null,8,["loading","onClick"])])])]),_:1},8,["modelValue"])]))}},ze=e("div",{class:"h-screen w-full bg-gray-900/60 fixed top-0"},null,-1),Ie={class:"h-screen w-full flex flex-col px-6 md:max-w-7xl mx-auto z-20 relative"},Ge=e("h1",{class:"text-white text-3xl mt-20 text-center"}," Categories ",-1),He={class:"flex flex-col w-full pb-2"},Ke=e("h2",{class:"text-white font-medium text-2xl mt-8"}," My Categories ",-1),Le=e("hr",{class:"my-5 border-gray-600"},null,-1),Ye={class:"grid grid-cols-1 md:grid-cols-3 gap-3"},Ze=["onClick"],Je={class:"absolute bottom-3 right-3 gap-x-1 flex"},Qe={class:"absolute top-3 right-3"},Re={class:"font-medium"},We={class:"text-gray-600 text-sm"},Xe={class:"absolute top-3 right-3"},et=e("h3",{class:"font-medium"}," Add Category ",-1),tt=e("p",{class:"text-gray-600 text-sm"}," Add your own category for your own affirmations ",-1),ot={class:"flex flex-col w-full pb-40"},lt={class:"text-white font-medium text-2xl mt-8"},at=e("hr",{class:"my-5 border-gray-600"},null,-1),st={class:"grid grid-cols-1 md:grid-cols-3 gap-3"},rt=["onClick"],nt={key:0,class:"absolute right-3 top-3"},it={key:1,class:"absolute right-3 top-3"},dt={class:"font-medium"},ut={class:"text-gray-600 text-sm"},ct={class:"text-center"},mt=e("h1",{class:"mt-2"}," No Affirmations Found ",-1),ft=e("p",{class:"text-lg max-w-md mx-auto leading-6 mt-2 font-light"}," Please add atleast one affirmation to your category before switching it as active. ",-1),vt={class:"flex items-center justify-center gap-x-2 mt-4"},gt={class:"text-center"},pt={class:"mt-2"},yt={class:"text-lg max-w-md mx-auto leading-6 mt-2 font-light"},xt={class:"flex items-center justify-center gap-x-2 mt-4"},bt={class:"py-2 flex"},_t=e("div",null,[e("h1",{class:"mt-2"}," Subscribe to Premium "),e("p",{class:"text-base max-w-md mx-auto leading-6 mt-2 font-light"}," Gain access to our premium categories, exclusive contents and exciting features within our app. ")],-1),ht={class:"flex items-center justify-end gap-x-2 mt-4"},Tt={__name:"Categories",props:{categories:Object,activeCategory:[Object,Number],isPremium:Boolean,myCategories:Object,activeCategoryType:String,errors:Object},setup(i){const g=i,c=p(""),d=p(!1),l=p(!1),m=p(!1),x=p(!1),s=p(!1),t=p(!1),a=p({}),B=p(""),q=(_,r)=>{a.value=r,_==="delete"?t.value=!0:x.value=!0},z=(_,r="")=>{if(g.isPremium||r==="personal"||!_.premium){if(r=="personal"&&(B.value="personal",_.affirmations.length==0))return s.value=!0;d.value=!0,c.value=_}else l.value=!0},Z=async()=>{M.post(route("setCategory"),{category_id:c.value.id,type:B.value},{onSuccess:()=>{c.value="",d.value=!1,B.value=""}})},S=p(!1),F=p(!1),J=_=>{S.value=!0,a.value=_},Q=()=>{S.value=!1,F.value=!0};return P([()=>F.value],([_])=>{_||(S.value=!0)}),P(()=>g.myCategories,()=>{a.value=g.myCategories.filter(_=>{var r;return _.id===((r=a.value)==null?void 0:r.id)})[0],console.log("Selected Category: ",a)}),(_,r)=>(f(),D(ee,{"background-image":"the-river-gfd490d610_1280.jpg",class:""},{default:V(()=>{var I,G,H;return[o(u(W),{title:"Categories"}),ze,e("div",Ie,[Ge,e("div",He,[Ke,Le,e("div",Ye,[(f(!0),y(T,null,O(i.myCategories,n=>(f(),y("div",{key:n.id,class:"bg-white relative hover:-translate-y-1 active:bg-gray-200 duration-200 ease-out w-full rounded-md shadow px-5 py-6 cursor-pointer",onClick:v(C=>z(n,"personal"),["prevent"])},[e("div",Je,[o(u(oe),{class:"w-5 text-gray-500 hover:text-green-600",onClick:v(C=>J(n),["stop"])},null,8,["onClick"]),o(u(te),{class:"w-5 text-gray-500 hover:text-green-600",onClick:v(C=>q("update",n),["stop"])},null,8,["onClick"]),o(u(Y),{class:"w-5 text-gray-500 hover:text-red-600",onClick:v(C=>q("delete",n),["stop"])},null,8,["onClick"])]),e("div",Qe,[n.id===i.activeCategory&&i.activeCategoryType==="App\\Models\\UserCategories"?(f(),D(u(N),{key:0,class:"w-7 text-green-600"})):U("",!0)]),e("h3",Re,h(n.text),1),e("p",We,h(n.blurb),1)],8,Ze))),128)),e("div",{class:"bg-white relative hover:-translate-y-1 active:bg-gray-200 duration-200 ease-out w-full rounded-md shadow px-5 py-6 cursor-pointer",onClick:r[0]||(r[0]=v(n=>m.value=!0,["prevent"]))},[e("div",Xe,[o(u(le),{class:"w-6 text-green-600 hover:text-green-700"})]),et,tt])])]),e("div",ot,[(f(!0),y(T,null,O(i.categories,(n,C)=>(f(),y("div",{key:`${C}-category`},[e("h2",lt,h(C==0?"Free":"Premium"),1),at,e("div",st,[(f(!0),y(T,null,O(n,A=>(f(),y("div",{key:A.id,class:X(["relative hover:-translate-y-1 active:bg-gray-200 duration-200 ease-out w-full rounded-md shadow px-5 py-6 cursor-pointer",[C==0||i.isPremium?"bg-white":"bg-gray-200"]]),onClick:v(Vt=>z(A),["prevent"])},[A.id===i.activeCategory&&i.activeCategoryType==="App\\Models\\Category"?(f(),y("div",nt,[o(u(N),{class:"w-6 text-green-600"})])):U("",!0),!i.isPremium&&C!=0?(f(),y("div",it,[o(u(L),{class:"w-6"})])):U("",!0),e("h3",dt,h(A.text),1),e("p",ut,h(A.blurb),1)],10,rt))),128))])]))),128))])]),o($,{modelValue:s.value,"onUpdate:modelValue":r[2]||(r[2]=n=>s.value=n)},{default:V(()=>[e("div",ct,[o(u(ae),{class:"w-14 mx-auto text-red-600"}),mt,ft]),e("div",vt,[o(b,{label:"Close","btn-block":"",color:"gray",onClick:r[1]||(r[1]=v(n=>s.value=!1,["prevent"]))})])]),_:1},8,["modelValue"]),o($,{modelValue:d.value,"onUpdate:modelValue":r[4]||(r[4]=n=>d.value=n)},{default:V(()=>[e("div",gt,[o(u(N),{class:"w-14 mx-auto text-green-600"}),e("h1",pt,h(c.value.text),1),e("p",yt,h(c.value.blurb),1)]),e("div",xt,[o(b,{label:"Cancel",color:"gray",onClick:r[3]||(r[3]=v(n=>d.value=!1,["prevent"]))}),o(b,{label:"Switch Category",color:"success",onClick:v(Z,["prevent"])},null,8,["onClick"])])]),_:1},8,["modelValue"]),o($,{modelValue:l.value,"onUpdate:modelValue":r[6]||(r[6]=n=>l.value=n)},{default:V(()=>[e("div",bt,[o(u(L),{class:"w-14 mx-auto text-gray-400"}),_t]),e("div",ht,[o(b,{label:"Cancel",color:"error","component-type":"link",onClick:r[5]||(r[5]=v(n=>l.value=!1,["prevent"]))}),o(b,{"component-type":"link",href:"/billing",label:"Subscribe for Access",color:"success"})])]),_:1},8,["modelValue"]),o(Ce,{modelValue:S.value,"onUpdate:modelValue":r[7]||(r[7]=n=>S.value=n),affirmations:(I=a.value)==null?void 0:I.affirmations,onAddAffirmation:Q},null,8,["modelValue","affirmations"]),o(ue,{modelValue:F.value,"onUpdate:modelValue":r[8]||(r[8]=n=>F.value=n),category:a.value,errors:i.errors},null,8,["modelValue","category","errors"]),o(Ue,{modelValue:m.value,"onUpdate:modelValue":r[9]||(r[9]=n=>m.value=n)},null,8,["modelValue"]),o(Oe,{modelValue:x.value,"onUpdate:modelValue":r[10]||(r[10]=n=>x.value=n),category:a.value},null,8,["modelValue","category"]),o(qe,{modelValue:t.value,"onUpdate:modelValue":r[11]||(r[11]=n=>t.value=n),category:(G=a.value)==null?void 0:G.text,"category-id":(H=a.value)==null?void 0:H.id},null,8,["modelValue","category","category-id"])]}),_:1}))}};export{Tt as default};
