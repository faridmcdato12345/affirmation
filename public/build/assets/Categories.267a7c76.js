import{o as c,f as p,a as e,q as R,j,r as y,b as o,w as V,d as g,u,O as M,t as _,c as D,F,s as O,i as U,k as K,T as E,C as P,Z as W,n as X}from"../app.js";import{_ as w}from"./Modal.4ac18e52.js";import{_ as k}from"./FormInput.035c4c28.js";import{_ as b}from"./Button.76de9da8.js";import{t as $}from"./useToast.3a19dd8e.js";import{_ as ee}from"./AuthenticatedLayout.102605c8.js";import{r as Y,a as te}from"./TrashIcon.6386decd.js";import{r as oe}from"./EyeIcon.506babaf.js";import{r as N}from"./CheckCircleIcon.e1fd47d9.js";import{r as le}from"./PlusCircleIcon.63cbe099.js";import{r as ae}from"./XCircleIcon.041cf80a.js";function L(n,m){return c(),p("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},[e("path",{"fill-rule":"evenodd",d:"M12 1.5a5.25 5.25 0 00-5.25 5.25v3a3 3 0 00-3 3v6.75a3 3 0 003 3h10.5a3 3 0 003-3v-6.75a3 3 0 00-3-3v-3c0-2.9-2.35-5.25-5.25-5.25zm3.75 8.25v-3a3.75 3.75 0 10-7.5 0v3h7.5z","clip-rule":"evenodd"})])}const se={class:"py-2"},re=e("h1",{class:""}," Custom Affirmation ",-1),ne=e("p",{class:"text-base mt-2 font-light"}," Add your own custom affirmation for your selected category. ",-1),de=["onSubmit"],ie={class:"flex justify-end gap-x-2 mt-3"},ue={__name:"AddAffirmation",props:{modelValue:Boolean,category:{type:Object},errors:Object},emits:["update:modelValue"],setup(n,{emit:m}){const f=n;let i=R({text:"",user_categories_id:null});const l=j({get(){return f.modelValue},set(s){m("update:modelValue",s)}}),v=y(!1),x=()=>{v.value=!0,M.post(route("user-affirmation.store"),{...i,user_categories_id:f.category.id},{onSuccess:()=>{$.success("Affirmation has been added successfully!"),m("update:modelValue")},onError:()=>{var s;$.error((s=f.errors.error)!=null?s:"You need to be premium to add more affirmations"),v.value=!1},onFinish:()=>{v.value=!1}})};return(s,t)=>(c(),p("div",null,[o(w,{modelValue:l.value,"onUpdate:modelValue":t[2]||(t[2]=a=>l.value=a)},{default:V(()=>[e("div",se,[re,ne,e("form",{class:"mt-3",onSubmit:g(x,["prevent"])},[o(k,{id:"text",modelValue:u(i).text,"onUpdate:modelValue":t[0]||(t[0]=a=>u(i).text=a),class:"mb-1",label:"Affirmation"},null,8,["modelValue"]),e("div",ie,[o(b,{label:"Cancel",color:"gray",onClick:t[1]||(t[1]=g(a=>l.value=!1,["prevent"]))}),o(b,{label:"Save Affirmation",color:"success",type:"submit",loading:v.value},null,8,["loading"])])],40,de)])]),_:1},8,["modelValue"])]))}},ce={tabindex:"0",class:"relative flex justify-between px-3 py-3 border rounded-sm my-2"},me={class:"text-sm text-gray-500"},fe={class:"absolute top-1/2 -translate-y-1/2 right-4 flex gap-x-1"},ve={__name:"AffirmationCard",props:{id:{type:[String,Number],required:!0},affirmation:{type:String,required:!0},date:{type:[String,Date],required:!0}},emits:["delete"],setup(n,{emit:m}){const f=n,i=y(!1),l=y(),v=()=>{i.value=!1,M.put(route("user-affirmation.update",f.id),{text:l.value}),console.log("Updating affirmation ...")},x=s=>{l.value=s};return(s,t)=>(c(),p("div",ce,[e("div",null,[i.value?(c(),D(k,{key:1,id:n.id,autofocus:"",label:"Update affirmation","model-value":n.affirmation,class:"w-[400px]","onUpdate:modelValue":x,onKeyupEnter:v,onBlur:t[1]||(t[1]=a=>i.value=!1)},null,8,["id","model-value"])):(c(),p("h2",{key:0,class:"font-medium max-w-[45ch]",onClick:t[0]||(t[0]=g(a=>i.value=!0,["prevent"]))},_(n.affirmation),1)),e("p",me,_(n.date),1)]),e("div",fe,[o(u(Y),{class:"w-6 text-gray-500 hover:text-red-600 cursor-pointer",onClick:t[2]||(t[2]=g(a=>m("delete"),["prevent"]))})])]))}},ge={class:"py-2"},pe=e("h1",{class:""}," Affirmations ",-1),ye=e("p",{class:"text-base mt-2 font-light"}," Here are your custom affirmations for the selected category. ",-1),xe={class:"max-h-[300px] overflow-y-auto mt-2 py-1"},be={key:0,class:"text-base mt-2 mb-3"},he={key:0,class:"text-sm"},_e=e("span",{class:"font-medium text-black"},"enter",-1),Ve={class:"flex justify-end mt-4 gap-x-2"},Ce={__name:"Affirmations",props:{modelValue:Boolean,affirmations:{type:Object,default:()=>{}}},emits:["update:modelValue","add-affirmation"],setup(n,{emit:m}){const f=n,i=j({get(){return f.modelValue},set(s){m("update:modelValue",s)}}),l=y(!1),v=s=>{console.log("Update affirmation: ",s)},x=s=>{l.value=!0,M.delete(route("user-affirmation.destroy",s),{onSuccess:()=>{$.success("Affirmation has been deleted successfully!")},onError:()=>{l.value=!1},onFinish:()=>{l.value=!1}})};return(s,t)=>(c(),p("div",null,[o(w,{modelValue:i.value,"onUpdate:modelValue":t[2]||(t[2]=a=>i.value=a)},{default:V(()=>[e("div",ge,[pe,ye,e("div",xe,[(c(!0),p(F,null,O(n.affirmations,a=>(c(),D(ve,{id:a.id,key:a.id,affirmation:a.text,date:a.created_at,onDelete:B=>x(a.id),onUpdate:v},null,8,["id","affirmation","date","onDelete"]))),128)),n.affirmations.length==0?(c(),p("p",be," There are no affirmations added to this category. ")):U("",!0)]),n.affirmations.length!=0?(c(),p("p",he,[K(" Click on an affirmation text to edit and press "),_e,K(" to save update. ")])):U("",!0),e("div",Ve,[o(b,{label:"Close",color:"gray",onClick:t[0]||(t[0]=g(a=>m("update:modelValue"),["prevent"]))}),o(b,{label:"Add Affirmation",color:"success",onClick:t[1]||(t[1]=g(a=>m("add-affirmation"),["prevent"]))})])])]),_:1},8,["modelValue"])]))}},we={class:"py-2"},$e=e("h1",{class:"dark:text-white"}," Custom Category ",-1),ke=e("p",{class:"text-base mt-2 font-light dark:text-gray-400"}," Add your own category so that you can add your own affirmation ",-1),Se=["onSubmit"],Ae={class:"flex justify-end gap-x-2 mt-3"},Ue={__name:"AddCategory",props:{modelValue:Boolean},emits:["update:modelValue"],setup(n,{emit:m}){const f=n,i=j({get(){return f.modelValue},set(s){m("update:modelValue",s)}}),l=E({text:"",blurb:""}),v=y(!1),x=()=>{v.value=!0,l.post(route("user-category.store"),{onSuccess:()=>{var s;l.reset(),$.success((s=l.errors.error)!=null?s:"Category has been added successfully!"),m("update:modelValue",!1)},onError:()=>{var s;$.error((s=l.errors.error)!=null?s:"Fields are required")},onFinish:()=>{setTimeout(()=>{v.value=!1},100)}})};return(s,t)=>(c(),p("div",null,[o(w,{modelValue:i.value,"onUpdate:modelValue":t[3]||(t[3]=a=>i.value=a)},{default:V(()=>[e("div",we,[$e,ke,e("form",{class:"mt-3",onSubmit:g(x,["prevent"])},[o(k,{id:"category",modelValue:u(l).text,"onUpdate:modelValue":t[0]||(t[0]=a=>u(l).text=a),"max-length":35,class:"mb-1",label:"Category",error:u(l).errors.text,autofocus:""},null,8,["modelValue","error"]),o(k,{id:"blurb",modelValue:u(l).blurb,"onUpdate:modelValue":t[1]||(t[1]=a=>u(l).blurb=a),"max-length":150,label:"Description",error:u(l).errors.blurb},null,8,["modelValue","error"]),e("div",Ae,[o(b,{label:"Cancel",color:"gray",onClick:t[2]||(t[2]=g(a=>i.value=!1,["prevent"]))}),o(b,{label:"Save Category",color:"success",type:"submit",loading:v.value},null,8,["loading"])])],40,Se)])]),_:1},8,["modelValue"])]))}},je={class:"py-2"},Me=e("h1",{class:""}," Update Category ",-1),Be=e("p",{class:"text-base mt-2 font-light"}," Update the text and description of your category ",-1),Te=["onSubmit"],Fe={class:"flex justify-end gap-x-2 mt-3"},Oe={__name:"UpdateCategory",props:{modelValue:Boolean,category:Object},emits:["update:modelValue"],setup(n,{emit:m}){const f=n,i=j({get(){return f.modelValue},set(s){m("update:modelValue",s)}});let l=E({text:"",blurb:""});P(()=>f.category,()=>{l=E({...f.category})});const v=y(!1),x=()=>{v.value=!0,l.put(route("user-category.update",l.id),{onSuccess:()=>{l.reset(),$.success("Category has been updated successfully!"),m("update:modelValue",!1)},onError:()=>{l.errors&&$.error("All fields are required")},onFinish:()=>{setTimeout(()=>{v.value=!1},100)}})};return(s,t)=>(c(),p("div",null,[o(w,{modelValue:i.value,"onUpdate:modelValue":t[3]||(t[3]=a=>i.value=a)},{default:V(()=>[e("div",je,[Me,Be,e("form",{class:"mt-3",onSubmit:g(x,["prevent"])},[o(k,{id:"category",modelValue:u(l).text,"onUpdate:modelValue":t[0]||(t[0]=a=>u(l).text=a),"max-length":35,class:"mb-1",label:"Category",error:u(l).errors.text},null,8,["modelValue","error"]),o(k,{id:"blurb",modelValue:u(l).blurb,"onUpdate:modelValue":t[1]||(t[1]=a=>u(l).blurb=a),"max-length":150,label:"Description",error:u(l).errors.blurb},null,8,["modelValue","error"]),e("div",Fe,[o(b,{label:"Cancel",color:"gray",onClick:t[2]||(t[2]=g(a=>i.value=!1,["prevent"]))}),o(b,{label:"Update Category",color:"success",type:"submit",loading:v.value},null,8,["loading"])])],40,Te)])]),_:1},8,["modelValue"])]))}},De={class:"py-2"},Ne=e("h1",{class:""}," Delete Category ",-1),Ee=e("p",{class:"text-base mt-2 font-light"}," Are you sure you want to delete this category? This will also delete its affirmation ",-1),Pe={class:"flex justify-end gap-x-2 mt-3"},qe={__name:"DeleteCategory",props:{modelValue:Boolean,categoryId:[Number,String],category:{type:String,default:""}},emits:["update:modelValue"],setup(n,{emit:m}){const f=n,i=j({get(){return f.modelValue},set(x){m("update:modelValue",x)}}),l=y(!1),v=()=>{l.value=!0,M.delete(route("user-category.destroy",f.categoryId),{onSuccess:()=>{$("Category has been deleted!"),m("update:modelValue",!1)},onFinish:()=>{setTimeout(()=>{l.value=!1},100)}})};return(x,s)=>(c(),p("div",null,[o(w,{modelValue:i.value,"onUpdate:modelValue":s[1]||(s[1]=t=>i.value=t)},{default:V(()=>[e("div",De,[Ne,Ee,e("div",Pe,[o(b,{label:"Cancel",color:"gray",onClick:s[0]||(s[0]=g(t=>i.value=!1,["prevent"]))}),o(b,{label:"Delete",color:"error",loading:l.value,onClick:g(v,["prevent"])},null,8,["loading","onClick"])])])]),_:1},8,["modelValue"])]))}},ze=e("div",{class:"h-screen w-full bg-gray-900/60 fixed top-0"},null,-1),Ie={class:"h-screen w-full flex flex-col px-6 md:max-w-7xl mx-auto z-20 relative"},Ge=e("h1",{class:"text-white text-3xl mt-20 text-center"}," Categories ",-1),He={class:"flex flex-col w-full pb-2"},Ke=e("h2",{class:"text-white font-medium text-2xl mt-8"}," My Categories ",-1),Le=e("hr",{class:"my-5 border-gray-600"},null,-1),Ye={class:"grid grid-cols-1 md:grid-cols-3 gap-3"},Ze=["onClick"],Je={class:"absolute bottom-3 right-3 gap-x-1 flex"},Qe={class:"absolute top-3 right-3"},Re={class:"font-medium"},We={class:"text-gray-600 text-sm"},Xe={class:"absolute top-3 right-3"},et=e("h3",{class:"font-medium"}," Add Category ",-1),tt=e("p",{class:"text-gray-600 text-sm"}," Add your own category for your own affirmations ",-1),ot={class:"flex flex-col w-full pb-40"},lt={class:"text-white font-medium text-2xl mt-8"},at=e("hr",{class:"my-5 border-gray-600"},null,-1),st={class:"grid grid-cols-1 md:grid-cols-3 gap-3"},rt=["onClick"],nt={key:0,class:"absolute right-3 top-3"},dt={key:1,class:"absolute right-3 top-3"},it={class:"font-medium"},ut={class:"text-gray-600 text-sm"},ct={class:"text-center"},mt=e("h1",{class:"mt-2"}," No Affirmations Found ",-1),ft=e("p",{class:"text-lg max-w-md mx-auto leading-6 mt-2 font-light"}," Please add atleast one affirmation to your category before switching it as active. ",-1),vt={class:"flex items-center justify-center gap-x-2 mt-4"},gt={class:"text-center"},pt={class:"mt-2 dark:text-white"},yt={class:"dark:text-gray-300 text-lg max-w-md mx-auto leading-6 mt-2 font-light"},xt={class:"flex items-center justify-center gap-x-2 mt-4"},bt={class:"py-2 flex"},ht=e("div",null,[e("h1",{class:"mt-2 dark:text-white"}," Subscribe to Premium "),e("p",{class:"dark:text-gray-400 text-base max-w-md mx-auto leading-6 mt-2 font-light"}," Gain access to our premium categories, exclusive contents and exciting features within our app. ")],-1),_t={class:"flex items-center justify-end gap-x-2 mt-4"},Ft={__name:"Categories",props:{categories:Object,activeCategory:[Object,Number],isPremium:Boolean,myCategories:Object,activeCategoryType:String,errors:Object},setup(n){const m=n,f=y(""),i=y(!1),l=y(!1),v=y(!1),x=y(!1),s=y(!1),t=y(!1),a=y({}),B=y(""),q=(h,r)=>{a.value=r,h==="delete"?t.value=!0:x.value=!0},z=(h,r="")=>{if(m.isPremium||r==="personal"||!h.premium){if(r=="personal"&&(B.value="personal",h.affirmations.length==0))return s.value=!0;i.value=!0,f.value=h}else l.value=!0},Z=async()=>{M.post(route("setCategory"),{category_id:f.value.id,type:B.value},{onSuccess:()=>{f.value="",i.value=!1,B.value=""}})},S=y(!1),T=y(!1),J=h=>{S.value=!0,a.value=h},Q=()=>{S.value=!1,T.value=!0};return P([()=>T.value],([h])=>{h||(S.value=!0)}),P(()=>m.myCategories,()=>{a.value=m.myCategories.filter(h=>{var r;return h.id===((r=a.value)==null?void 0:r.id)})[0],console.log("Selected Category: ",a)}),(h,r)=>(c(),D(ee,{"background-image":"the-river-gfd490d610_1280.jpg",class:""},{default:V(()=>{var I,G,H;return[o(u(W),{title:"Categories"}),ze,e("div",Ie,[Ge,e("div",He,[Ke,Le,e("div",Ye,[(c(!0),p(F,null,O(n.myCategories,d=>(c(),p("div",{key:d.id,class:"bg-white relative hover:-translate-y-1 active:bg-gray-200 duration-200 ease-out w-full rounded-md shadow px-5 py-6 cursor-pointer",onClick:g(C=>z(d,"personal"),["prevent"])},[e("div",Je,[o(u(oe),{class:"w-5 text-gray-500 hover:text-green-600",onClick:g(C=>J(d),["stop"])},null,8,["onClick"]),o(u(te),{class:"w-5 text-gray-500 hover:text-green-600",onClick:g(C=>q("update",d),["stop"])},null,8,["onClick"]),o(u(Y),{class:"w-5 text-gray-500 hover:text-red-600",onClick:g(C=>q("delete",d),["stop"])},null,8,["onClick"])]),e("div",Qe,[d.id===n.activeCategory&&n.activeCategoryType==="App\\Models\\UserCategories"?(c(),D(u(N),{key:0,class:"w-7 text-green-600"})):U("",!0)]),e("h3",Re,_(d.text),1),e("p",We,_(d.blurb),1)],8,Ze))),128)),e("div",{class:"bg-white relative hover:-translate-y-1 active:bg-gray-200 duration-200 ease-out w-full rounded-md shadow px-5 py-6 cursor-pointer",onClick:r[0]||(r[0]=g(d=>v.value=!0,["prevent"]))},[e("div",Xe,[o(u(le),{class:"w-6 text-green-600 hover:text-green-700"})]),et,tt])])]),e("div",ot,[(c(!0),p(F,null,O(n.categories,(d,C)=>(c(),p("div",{key:`${C}-category`},[e("h2",lt,_(C==0?"Free":"Premium"),1),at,e("div",st,[(c(!0),p(F,null,O(d,A=>(c(),p("div",{key:A.id,class:X(["relative hover:-translate-y-1 active:bg-gray-200 duration-200 ease-out w-full rounded-md shadow px-5 py-6 cursor-pointer",[C==0||n.isPremium?"bg-white":"bg-gray-200"]]),onClick:g(Vt=>z(A),["prevent"])},[A.id===n.activeCategory&&n.activeCategoryType==="App\\Models\\Category"?(c(),p("div",nt,[o(u(N),{class:"w-6 text-green-600"})])):U("",!0),!n.isPremium&&C!=0?(c(),p("div",dt,[o(u(L),{class:"w-6"})])):U("",!0),e("h3",it,_(A.text),1),e("p",ut,_(A.blurb),1)],10,rt))),128))])]))),128))])]),o(w,{modelValue:s.value,"onUpdate:modelValue":r[2]||(r[2]=d=>s.value=d)},{default:V(()=>[e("div",ct,[o(u(ae),{class:"w-14 mx-auto text-red-600"}),mt,ft]),e("div",vt,[o(b,{label:"Close","btn-block":"",color:"gray",onClick:r[1]||(r[1]=g(d=>s.value=!1,["prevent"]))})])]),_:1},8,["modelValue"]),o(w,{modelValue:i.value,"onUpdate:modelValue":r[4]||(r[4]=d=>i.value=d)},{default:V(()=>[e("div",gt,[o(u(N),{class:"w-14 mx-auto text-green-600"}),e("h1",pt,_(f.value.text),1),e("p",yt,_(f.value.blurb),1)]),e("div",xt,[o(b,{label:"Cancel",color:"gray",onClick:r[3]||(r[3]=g(d=>i.value=!1,["prevent"]))}),o(b,{label:"Switch Category",color:"success",onClick:g(Z,["prevent"])},null,8,["onClick"])])]),_:1},8,["modelValue"]),o(w,{modelValue:l.value,"onUpdate:modelValue":r[6]||(r[6]=d=>l.value=d)},{default:V(()=>[e("div",bt,[o(u(L),{class:"w-14 mx-auto text-gray-400"}),ht]),e("div",_t,[o(b,{label:"Cancel",color:"error","component-type":"link",onClick:r[5]||(r[5]=g(d=>l.value=!1,["prevent"]))}),o(b,{"component-type":"link",href:"/billing",label:"Subscribe for Access",color:"success"})])]),_:1},8,["modelValue"]),o(Ce,{modelValue:S.value,"onUpdate:modelValue":r[7]||(r[7]=d=>S.value=d),affirmations:(I=a.value)==null?void 0:I.affirmations,onAddAffirmation:Q},null,8,["modelValue","affirmations"]),o(ue,{modelValue:T.value,"onUpdate:modelValue":r[8]||(r[8]=d=>T.value=d),category:a.value,errors:n.errors},null,8,["modelValue","category","errors"]),o(Ue,{modelValue:v.value,"onUpdate:modelValue":r[9]||(r[9]=d=>v.value=d)},null,8,["modelValue"]),o(Oe,{modelValue:x.value,"onUpdate:modelValue":r[10]||(r[10]=d=>x.value=d),category:a.value},null,8,["modelValue","category"]),o(qe,{modelValue:t.value,"onUpdate:modelValue":r[11]||(r[11]=d=>t.value=d),category:(G=a.value)==null?void 0:G.text,"category-id":(H=a.value)==null?void 0:H.id},null,8,["modelValue","category","category-id"])]}),_:1}))}};export{Ft as default};
